<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="format-detection" content="telephone=no" />
  <title></title>

</head>

<body>
    <input type="text" class="Unicode">
</body>

</html>
<script src="../js/jquery-1.12.3.min.js"></script>
<script type="text/javascript">
  /*$(function () {
    var str = "www.51js.com"
    var p1 = str.indexOf(".") //检索字符串查找第一个“.”
    console.log(p1); //"输出为3"
    var a = str.substring(p1 + 1) //获取从索引位置开始的字符串
    console.log(str.substring(p1 + 1)); //"输出为51js.com"
    var p2 = str.split(".") //根据“.”分割字符串
    console.log(p2) //"输出为('www','51js','com')"
    var p3 = str.search("51"); //根据条件查询字符串，并返回查询的下标值
    console.log(p3) //"输出为4"
    str = str.replace("51", "66") //替换条件字符串，第一个为当前内容，第二个为替换的内容
    console.log(str) //“输出为www.66js.com”
    str = str.charAt(3) //查找字符串中第“3”个的值
    console.log(str) //"输出为."
    var m = "123456789"
    m = m.charCodeAt(0) //检索指定字符串的Unicode编码
    console.log(m, "m") //输出为“50 "m"”
    var q = "123.456.7864.215456544".split(".", 2) //根据第一个参数进行拆分字符串，第二个参数为分割后字符串最大长度
    console.log(q) //输出为["123", "456"]
  })
  $(function () {
    function f(x, y, z) {
      if (f.length == arguments.length) {
        console.log(arguments.length, f.length, ":1")
      } else {
        console.log(arguments.length, f.length, ":2")
      }
    }
    // function colorBk(){
    //   bkColor = '#' + Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, '0');
    // }
    // f(1,2,3);
    f(1, 5, 3, 8);
  })
  $(function () {
    var a = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    a.push(0) //尾部添加
    console.log(a); //[1,2,3,4,5,6,7,8,9,0]
    a.pop() //删除最后一位
    console.log(a); //[1,2,3,4,5,6,7,8,9]
    a.unshift(2) //头部添加
    console.log(a);
    a.shift(); //删除第一位
    console.log(a);
    var s = a.join(""); //将数组内容转换为字符串,也可以指定可选的字符串来分割结果字符串中的元素，默认为“，”
    console.log(s); //1:2:3:4:5:6:7:8:9
    var z = ['a', 'b', 'd', 'sf', 'wf', 'f', 'sdf', 'sdf', 'fd', 'fsf', 'sf']
    z.reverse() //颠倒数组并重新排列
    console.log(z); //["sf", "fsf", "fd", "sdf", "sdf", "f", "wf", "sf", "d", "b", "a"]
    var x = [1, 3, 4, 45, 5, 66, 56, 6, 7, 67, 78, 23, 123, 6, 7, 8989, , 67]
    function sortNumber(a, b) {
      return a - b
    }
    x.sort(sortNumber); //原数组上对数组进行排序
    console.log(x) //[1, 3, 4, 5, 6, 6, 7, 7, 23, 45, 56, 66, 67, 67, 78, 123, 8989]
    var c = x.slice(2, 5); //根据参数取数组中对应的下标位置的值，不包含第二个参数的下标值
    console.log(c, x) //[4,5,6]
    var v = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    v.splice(5, 2) //第一个参数为数组中前5个，第二个参数为属于数组中第2个开始到最后一个
    console.log(v);
    [1, 2, 3, 4, 5, 8, 9]
    v.splice(1, 0, 30, 40, [50, 60], 5) //在数组添加新元素
    console.log(v); //[1, 30, 40, Array(2), 5, 2, 3, 4, 5, 8, 9]
    var b = [1, 2, 3, 4].toString() //转换为字符串，并用","连接
    console.log(b)
    var n = [1, 2, 3, 4, 5].toLocaleString() //转换为字符串  
    console.log(n);
  })*/
  $(function(){
    let arr ='',aa='';
    $("input").focus(function(){
        console.log(111)
      $("input").blur(function(){
        arr ='',arr ='';
        let a = $(".Unicode").val()
        function isChinese(s){
          return /[\u4e00-\u9fa5]/.test(s);
        }
        for(let i in a){
          aa = a[i]
          if(isChinese(aa)){
            arr+='\\u' + aa.charCodeAt(0).toString(16)
          }else{
            arr+='\\u00'+aa.charCodeAt(0).toString(16)
          }
        }
        console.log(arr);
        arr1 = unicode2Ch(arr)
        console.log(arr1)
        function unicode2Ch(str){
          if(!str){
            return;
          }
          // 控制循环跃迁
          var len = 1;
          var result = '';
                // 注意，这里循环变量的变化是i=i+len 了
          for (var i = 0; i < str.length; i=i+len) {
            len = 1;
            var temp = str.charAt(i);
            if(temp == '\\'){
              // 找到形如 \u 的字符序列
              if(str.charAt(i+1) == 'u'){
                // 提取从i+2开始(包括)的 四个字符
                var unicode = str.substr((i+2),4); 
                                        // 以16进制为基数解析unicode字符串，得到一个10进制的数字
                result += String.fromCharCode(parseInt(unicode,16).toString(10));
                // 提取这个unicode经过了5个字符， 去掉这5次循环
                len = 6;
              }
              else{
                result += temp;
              }
            }
            else{
              result += temp;
            }
          }
          return result;
        }
      })
    })  
  })

  
</script>